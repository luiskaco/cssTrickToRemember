<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" >
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" ></script>
    <style>
          .hideImg {
            display: none  !important;
          }

          .sectionOcultas {
            display: none;
          }

          .owl-dot img{
             position: relative;
          }
          
            .pestana{
                position: relative;
                
            }

          .pestana:after{
              content: "20";
              position: absolute;
              display: block;
              width: 40px;
              height: 40px;
              top: 30px;
              left: -50%;
              color: #000;
              /* transform: translate(-50%, -50%); */
         
             font-size: 2rem;
             z-index: 40 !important;
          }
    </style>
</head>
<body>
    
<div class="container">

    <div class="owl-carousel owl-theme">
      
        <div class="item owl-dot educa">
            <img src="https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/educa.png" class="pestana educa" /> 
        </div>
        <div class="item owl-dot creo">
            <img src="https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/creo.png" class="pestana creo" /> 
        </div>
        <div class="item owl-dot compartir">
            <img src="https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/compartir.png" class="pestana compartir large" />
        </div>
        <div class="item owl-dot wemath">
            <img src="https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/wemath.png"  class="pestana wemath" />  
        </div>
        <div class="item owl-dot tecpro">
            <img src="https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/tecpro.png"  class="pestana tecpro" />
        </div>
        <div class="item owl-dot rich">
            <img src="https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/rich.png"  class="pestana rich" />
        </div>
        <div class="item owl-dot green">
            <img src="https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/green.png"  class="pestana green" />
        </div>

      
    </div>
</div>
    
<section class="santillana compartirId">
    1 - compartir
</section>
<section class="santillana educaId sectionOcultas">
    2 - educa
</section>
<section class="santillana educaId sectionOcultas">
    2 - educa 2
</section>
<section class="santillana educaId sectionOcultas">
    2 - educa 3
</section>
<section class="santillana creoId sectionOcultas">
    3 - creo   
</section>
<section class="santillana creoId sectionOcultas">
    3 - creoId    1
</section>
<section class="santillana creoId sectionOcultas">
    3 - creoId   2
</section>
<section class="santillana creoId sectionOcultas">
    3 - creo   3
</section>
<section class="santillana wemathId sectionOcultas">
    4 - wemath
</section>
<section class="santillana tecproId sectionOcultas">
    5 - tecpro
</section>
<section class="santillana richId sectionOcultas">
    6 - rich
</section>
<section class="santillana greenId sectionOcultas">
    7 - green
</section>

<script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
	
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.css"  />

<script>
    (() => {
        
            $(function(){
 
                //Por defaul ubicamos el 1 como primero 
           
              $('.owl-carousel').owlCarousel({
                        center: true,
                        items:5,
                        loop:false,
                        margin:10,
                        dots:false,
                        autoplay:false,
                        // autoplayTimeout:2000,
                        startPosition: 2,
                        responsive:{
                            0:{
                                items:3,
                                nav:false
                            },
                            425:{
                                items:3,
                                nav:false
                            },
                            768:{
                                items:5,
                                nav:false
                            },
                            992:{
                                items:5,
                                nav:false
                            },
                            1000:{
                                items:5,
                                nav:false
                            }
                        }
                    })
                    // .on("change.owl.carousel", function (event) {
                    //     let refIndex = event.item.index

                    // });
            });

        
              

            const repositoryImage = {
                'compartir' : {
                                'short' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/compartir.png',
                                'large' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/compartir_204X298-11-min.png',
                                },
                'educa' :   {
                                'short' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/educa.png',
                                'large' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/educa_204X298-12-min.png',
                            },
                'creo' :    {
                                'short' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/creo.png',
                                'large' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/creo_204X298-09-min.png',
                            },
                'wemath' :    {
                                'short' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/wemath.png',
                                'large' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/wemath_204X298-14-min.png',
                            },
                'tecpro' :    {
                                'short' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/tecpro.png',
                                'large' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/tecpro_204X298-08-min.png',
                },
                'rich' :    {
                                'short' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/rich.png',
                                'large' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/richmond_204X298-13-min.png',
                },
                'green' :    {
                                'short' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/green.png',
                                'large' : 'https://proyecto.orange-360.com/web/unMundo/wp-content/uploads/2023/01/green_204X298-10-min.png',
                },

            }
        
       

        // console.log(dataID)

        const defaultCompartir = document.querySelector('.compartir .large'); 
        // console.log(defaultCompartir)
        setTimeout(()=>{
            defaultCompartir.src=repositoryImage['compartir']['large'] 
        },1000)


        /**/
        const dataID = [
                {'compartir' : 'compartirId' },
                {'educa' : 'educaId' },
                {'creo' : 'creoId' },
                {'wemath' : 'wemathId' },
                {'tecpro' : 'tecproId' },
                {'rich' : 'richId' },
                {'green' : 'greenId' },
            ]

        const dots = document.querySelectorAll('.owl-dot');

        dots.forEach((dot, index) => {

         
            dot.addEventListener("click", function(event){
                // resetImage()
                const index = [...dots].indexOf(this);

                // selecionamos nuevo elemento que sera el centro
                const imgSrc = event.target.parentElement.firstElementChild
                const nameSelect = event.target.parentElement.firstElementChild.classList[1]

                // Buscamos el anterior para quitarle el centro
                const checkLarge = document.querySelector('.large');
                
                const checkName = checkLarge.classList[1]
                checkLarge.src=repositoryImage[checkName]['short']
                checkLarge.classList.remove('large')

    
                //Filter dateID for name
                const newDataID = dataID.filter(elem => {
                    return !Object.keys(elem).includes(nameSelect);
                });

                //Agregamos al carc center
                imgSrc.src=repositoryImage[nameSelect]['large']
                imgSrc.classList.add('large')
             
               // Recorremos  los data filtrado
                newDataID.forEach(newData => {
                    let nameOther = Object.values(newData)[0]
                    let searh = document.querySelectorAll(`.${nameOther}`)

             
                    // Recorremos los elementos buscando para agregarle la clase de ocultar
                    searh.forEach(reset => {
                         reset.classList.add('sectionOcultas')
                   
                    })

                })

                //filtramos nuevamente pero por el valor selecionado para eliminar el ocultar que se le fue plicado a todos
                let filterNew = getValueByKey(dataID, nameSelect)
                const newSeletct = document.querySelectorAll(`.${filterNew[0]}`);
                newSeletct.forEach(ele => {
                    ele.classList.remove('sectionOcultas')
                })
             
      
                // Mueve el carrusel al elemento seleccionado y lo ubica en el centro
          

                //  $('.owl-carousel').trigger('to.owl.carousel', index, true);
                 $('.owl-carousel').trigger('to.owl.carousel', [index, 300, true]);
            });

        
        });

 

        function getValueByKey(data, key) {
            return data.map(({[key]: value}) => value).filter(elem => elem !== undefined);
        }
            
    })();


</script>
</body>
</html>