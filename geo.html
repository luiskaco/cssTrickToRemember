<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <!-- <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script> -->
    <script>// Hacer una solicitud para obtener la información de nacionalidad
      
      
    //   geoip2.key = '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';
      
    

    //     // Hacer una solicitud para obtener la información de nacionalidad
    //     geoip2.country((result) => {
        
    //         const nationality = result.country.names.en;

    //         console.log(`El visitante es de ${nationality}.`);

    //     }, (error) => {

    //         console.error('Error al obtener la información de nacionalidad:', error);

    //     });
                    

        // fetch('https://geoip.maxmind.com/geoip/v2.1/city/181.224.231.189', {
        //     headers: {
        //         'Authorization': 'Basic ' + btoa('865892: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'),
        //         'Access-Control-Allow-Origin': '*'
        //     }
        //     })
        //     .then(response => response.json())
        //     .then(data => {
        //     console.log('Ubicación del usuario:', data.city.names.en, data.subdivisions[0].names.en, data.country.names.en);
        //     })
        //     .catch(error => console.error('Error:', error));
        


        const apiKey = '3f943ca5c3883bef5e38bd0558a8d5c8'; 
        var valid = null;
      
   
        // fetch(`http://api.ipstack.com/181.224.231.189?access_key=${apiKey}`)
        // fetch(`http://api.ipstack.com/156.146.59.2?access_key=${apiKey}`)
       const validado =  fetch(`http://api.ipstack.com/134.238.154.23?access_key=${apiKey}`)

            .then(response => response.json())
            .then(data => {
                console.log(`Ubicación del usuario: ${data.country_name}`);

                if( data.country_name == "Venezuela") {
                     // URL ECUADOR
                     valid = true;
                   
                }else{
                    // URL PERU
                     valid = false;
                   
                }


                return valid;
            })
            .catch(error => console.error('Error:', error));


            validado.then(result => {
                const resultado = result;
                return resultado;
                // Aquí puedes usar la variable "resultado" para cualquier otro propósito que desees
            });

       

        </script>

</body>
</html>